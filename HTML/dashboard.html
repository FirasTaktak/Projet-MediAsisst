<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - MediAssist</title>
    <link rel="stylesheet" href="../CSS/dashboard.css">
    <link rel="stylesheet" href="../CSS/dark-mode.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="../JS/theme.js"></script>
    

    
</head>

<body>
    <!-- Replace the existing loading screen div -->
    <div id="loading-screen">
        <div class="loading-content">
            <video id="loading-video" autoplay muted playsinline>
                <source src="../assets/loading.mp4" type="video/mp4">
            </video>
        </div>
    </div>

    <header>
        <a href="dashboard.html" class="logo">⚕️MediAssist</a>
        <nav>
            <span id="user-greeting">Welcome!</span>
            <img id="profile-picture" alt="Profile Picture"
                style="width:38px;height:38px;border-radius:50%;object-fit:cover;margin-left:10px;vertical-align:middle;display:none;">
            <a href="profile.html"><i class="fas fa-user"></i> Profile</a>
            <a href="../process/logout_process.php"><i class="fas fa-sign-out-alt"></i> Logout</a>
            <!-- Add dark mode toggle button -->
            <button id="dark-mode-toggle" aria-label="Toggle dark mode">
                <i class="fas fa-sun"></i>
            </button>
        </nav>
        <!-- Example notification bell icon -->
        <div id="notifications-icon" style="position: relative; margin-left: 24px; cursor: pointer;">
            <i class="fas fa-bell" style="font-size: 2.2rem; color: #ff9800;"></i>
            <span id="notifications-dot"
                style="display: none; background: #e53935; border-radius: 50%; width: 14px; height: 14px; position: absolute; top: 0; right: 0; border: 2px solid #fff;"></span>
        </div>
    </header>

    <div id="notification-dropdown" class="notification-dropdown">
        <div class="dropdown-header">
            <span>Notifications</span>
            <div style="float:right;">
                <button id="mark-all-read"
                    style="background:none;border:none;font-size:0.9em;margin-right:10px;color:#4285f4;cursor:pointer;">Mark
                    all read</button>
                <button id="close-dropdown" style="background:none;border:none;font-size:1.2em;">×</button>
            </div>
        </div>
        <div id="notification-list" class="notification-list">
            <!-- Notifications will be loaded here -->
        </div>
    </div>

    <div id="notification-bar" style="display:none; position:fixed; top:20px; right:20px; 
         background:#fff; padding:15px; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.1); 
         max-width:300px; z-index:1000;">
    </div>

    <div class="container">
        <div id="profile-incomplete-alert" class="alert alert-warning" style="display: none;">
            <i class="fas fa-exclamation-triangle"></i>
            <span>Your profile is incomplete. <a href="profile.html?mode=complete">Complete it now</a> to unlock all
                features.</span>
        </div>

        <h1>Your Health Dashboard</h1>
        <p>Manage your health information easily.</p>

        <div class="dashboard-summary">
            <div class="summary-card">
                <div class="summary-icon">
                    <i class="fas fa-pills"></i>
                </div>
                <div class="summary-info">
                    <h3>Medications</h3>
                    <p id="medication-count">0 Active</p>
                </div>
            </div>
            <div class="summary-card">
                <div class="summary-icon">
                    <i class="fas fa-calendar-check"></i>
                </div>
                <div class="summary-info">
                    <h3>Appointments</h3>
                    <p id="appointment-count">0 Upcoming</p>
                </div>
            </div>
            <div class="summary-card">
                <div class="summary-icon">
                    <i class="fas fa-file-prescription"></i>
                </div>
                <div class="summary-info">
                    <h3>Prescriptions</h3>
                    <p id="prescription-count">0 Total</p>
                </div>
            </div>
        </div>

        <div class="dashboard-grid">
            <!-- Updated link to include mode=edit -->
            <a href="profile.html?mode=edit" class="dashboard-item">
                <i class="fas fa-user-edit"></i>
                <span>My Profile</span>
                <p>View and update your personal information</p>
            </a>
            <a href="medications.html" class="dashboard-item">
                <i class="fas fa-pills"></i>
                <span>Medications</span>
                <p>Track your medications and dosages</p>
            </a>
            <a href="appointments.html" class="dashboard-item">
                <i class="fas fa-calendar-check"></i>
                <span>Appointments</span>
                <p>Schedule and manage your medical appointments</p>
            </a>
            <!-- Added links to new sections -->
            <a href="prescriptions.html" class="dashboard-item">
                <i class="fas fa-file-prescription"></i>
                <span>Prescriptions</span>
                <p>Store and access your prescription information</p>
            </a>
            <a href="emergency_contacts.html" class="dashboard-item">
                <i class="fas fa-first-aid"></i>
                <span>Emergency Contacts</span>
                <p>Manage your emergency contact information</p>
            </a>
            <a href="schedule.html" class="dashboard-item">
                <i class="fas fa-calendar-alt"></i>
                <span>My Schedule</span>
                <p>View your complete health schedule</p>
            </a>
        </div>

        <div class="dashboard-sections">
            <div class="dashboard-section">
                <h2>Today's Schedule</h2>
                <div id="today-schedule" class="schedule-list">
                    <!-- Today's schedule will be loaded here via JavaScript -->
                </div>
                <div id="no-today-schedule" style="display: none; text-align: center; padding: 10px;">
                    <p>No scheduled activities for today.</p>
                </div>
            </div>

            <div class="dashboard-section">
                <h2>Upcoming Appointments</h2>
                <div id="upcoming-appointments-preview" class="appointments-preview">
                    <!-- Upcoming appointments will be loaded here via JavaScript -->
                </div>
                <div id="no-upcoming-appointments" style="display: none; text-align: center; padding: 10px;">
                    <p>No upcoming appointments.</p>
                </div>

            </div>
        </div>
    </div>

    <footer>
        <p>© <span id="current-year">2025</span> MediAssist. All rights reserved.</p>
    </footer>

    <script src="../JS/script.js"></script>
    <script src="../JS/dashboard.js"></script>

    
</body>

</html>